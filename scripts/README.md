# –°–∫—Ä–∏–ø—Ç—ã –¥–ª—è –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è

–≠—Ç–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å–æ–¥–µ—Ä–∂–∏—Ç —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º Vibe Wheel.

## üìÅ –°–æ–¥–µ—Ä–∂–∏–º–æ–µ

### –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

#### `backup.sh` (Linux/Mac)
–°–æ–∑–¥–∞—ë—Ç —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

```bash
./scripts/backup.sh
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
- `BACKUP_DIR` - –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –±—ç–∫–∞–ø–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `./backups`)
- `DATA_DIR` - –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å –¥–∞–Ω–Ω—ã–º–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `./data`)
- `RETENTION_DAYS` - —Å–∫–æ–ª—å–∫–æ –¥–Ω–µ–π —Ö—Ä–∞–Ω–∏—Ç—å –±—ç–∫–∞–ø—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 30)

**–ü—Ä–∏–º–µ—Ä:**
```bash
RETENTION_DAYS=60 ./scripts/backup.sh
```

#### `backup.ps1` (Windows)
–¢–æ –∂–µ —Å–∞–º–æ–µ –¥–ª—è Windows.

```powershell
.\scripts\backup.ps1
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
```powershell
.\scripts\backup.ps1 -BackupDir ".\backups" -DataDir ".\data" -RetentionDays 30
```

---

### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ

#### `restore.sh` (Linux/Mac)
–í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏.

```bash
./scripts/restore.sh ./backups/vibe-wheel-backup-20250101_030000.tar.gz
```

**–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
- –ü–µ—Ä–µ–¥ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ–º —Å–æ–∑–¥–∞—ë—Ç—Å—è safety backup —Ç–µ–∫—É—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- –¢—Ä–µ–±—É–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—å—é

#### `restore.ps1` (Windows)
–¢–æ –∂–µ —Å–∞–º–æ–µ –¥–ª—è Windows.

```powershell
.\scripts\restore.ps1 -BackupFile .\backups\vibe-wheel-backup-20250101_030000.zip
```

---

### Health Check

#### `healthcheck.sh` (Linux/Mac)
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

```bash
./scripts/healthcheck.sh
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
- `HOST` - —Ö–æ—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: localhost)
- `PORT` - –ø–æ—Ä—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 3000)
- `TIMEOUT` - —Ç–∞–π–º–∞—É—Ç –∑–∞–ø—Ä–æ—Å–∞ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 10)

**Exit codes:**
- `0` - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–¥–æ—Ä–æ–≤–æ
- `1` - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ –∏–ª–∏ –Ω–µ–∑–¥–æ—Ä–æ–≤–æ

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–µ:**
```bash
# –î–æ–±–∞–≤—å—Ç–µ –≤ cron –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
*/5 * * * * /path/to/vibe-wheel/scripts/healthcheck.sh || echo "Alert: App is down" | mail -s "Vibe Wheel Down" admin@company.com
```

#### `healthcheck.ps1` (Windows)
–¢–æ –∂–µ —Å–∞–º–æ–µ –¥–ª—è Windows.

```powershell
.\scripts\healthcheck.ps1 -Host "localhost" -Port 3000 -Timeout 10
```

---

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

#### `update-app.sh` (Linux/Mac)
–ë–µ–∑–æ–ø–∞—Å–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º rollback –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö.

```bash
./scripts/update-app.sh
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
1. –°–æ–∑–¥–∞—ë—Ç –±—ç–∫–∞–ø –¥–∞–Ω–Ω—ã—Ö
2. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç–µ–∫—É—â—É—é –≤–µ—Ä—Å–∏—é –¥–ª—è rollback
3. –ü–æ–ª—É—á–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–∑ git
4. –ü–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ—Ç Docker –æ–±—Ä–∞–∑
5. –ó–∞–ø—É—Å–∫–∞–µ—Ç –æ–±–Ω–æ–≤–ª—ë–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
6. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç health check
7. –û—Ç–∫–∞—Ç—ã–≤–∞–µ—Ç—Å—è –Ω–∞–∑–∞–¥ –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫

**–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π:** –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π.

#### `update-app.ps1` (Windows)
–¢–æ –∂–µ —Å–∞–º–æ–µ –¥–ª—è Windows.

```powershell
.\scripts\update-app.ps1
```

**–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞:**
```powershell
.\scripts\update-app.ps1 -SkipBackup
```

---

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞

#### `init-data.js`
–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ. –°–æ–∑–¥–∞—ë—Ç –ø—É—Å—Ç–æ–π `state.json` –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç.

```bash
node scripts/init-data.js
```

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ npm hook: `npm run prestart`

#### `check-env.js`
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

```bash
node scripts/check-env.js
```

**–ü—Ä–æ–≤–µ—Ä—è–µ—Ç:**
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (ADMIN_ALLOWLIST –∏ —Ç.–¥.)
- –ù–∞–ª–∏—á–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö —Ñ–∞–π–ª–æ–≤ –¥–∞–Ω–Ω—ã—Ö
- –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –Ω–∞ –∑–∞–ø–∏—Å—å
- NODE_ENV

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ npm hook: `npm run prebuild`

---

## üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### Linux/Mac

–°–¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç—ã –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º–∏:

```bash
chmod +x scripts/*.sh
```

### Windows

PowerShell —Å–∫—Ä–∏–ø—Ç—ã –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é. –ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –ø—Ä–æ–±–ª–µ–º—ã —Å execution policy:

```powershell
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
```

---

## üìÖ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

#### Linux/Mac (cron)

```bash
# –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å crontab
crontab -e

# –î–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–æ–∫—É –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –±—ç–∫–∞–ø–∞ –≤ 3:00
0 3 * * * cd /path/to/vibe-wheel && ./scripts/backup.sh >> ./logs/backup.log 2>&1
```

#### Windows (Task Scheduler)

1. –û—Ç–∫—Ä–æ–π—Ç–µ Task Scheduler
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é –∑–∞–¥–∞—á—É
3. –¢—Ä–∏–≥–≥–µ—Ä: –ï–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 3:00
4. –î–µ–π—Å—Ç–≤–∏–µ: –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É
   - –ü—Ä–æ–≥—Ä–∞–º–º–∞: `powershell.exe`
   - –ê—Ä–≥—É–º–µ–Ω—Ç—ã: `-File C:\path\to\vibe-wheel\scripts\backup.ps1`
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∑–∞–¥–∞—á—É

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

#### Linux/Mac (cron)

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
*/5 * * * * cd /path/to/vibe-wheel && ./scripts/healthcheck.sh || echo "Alert" | mail -s "Vibe Wheel Down" admin@company.com
```

---

## üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤

–ï—Å–ª–∏ –≤—ã –¥–æ–±–∞–≤–ª—è–µ—Ç–µ –Ω–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã:

1. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ä—Å–∏—é –¥–ª—è Linux/Mac (.sh) –∏ Windows (.ps1)
2. –î–æ–±–∞–≤—å—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤ —ç—Ç–æ—Ç README
3. –°–¥–µ–ª–∞–π—Ç–µ .sh —Å–∫—Ä–∏–ø—Ç—ã –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º–∏
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `set -e` –≤ bash —Å–∫—Ä–∏–ø—Ç–∞—Ö –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
5. –î–æ–±–∞–≤—å—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫—É –æ—à–∏–±–æ–∫ –∏ –ø–æ–ª–µ–∑–Ω—ã–π –≤—ã–≤–æ–¥

### –®–∞–±–ª–æ–Ω bash —Å–∫—Ä–∏–ø—Ç–∞

```bash
#!/bin/bash
set -e

echo "=== My Script ==="

# –ü—Ä–æ–≤–µ—Ä–∫–∏
if [ ! -f "important-file" ]; then
    echo "Error: important-file not found"
    exit 1
fi

# –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞
echo "Doing something..."
# ...

echo "‚úì Done"
exit 0
```

### –®–∞–±–ª–æ–Ω PowerShell —Å–∫—Ä–∏–ø—Ç–∞

```powershell
param(
    [string]$Parameter = "default"
)

$ErrorActionPreference = "Stop"

Write-Host "=== My Script ===" -ForegroundColor Cyan

# –ü—Ä–æ–≤–µ—Ä–∫–∏
if (-not (Test-Path "important-file")) {
    Write-Host "Error: important-file not found" -ForegroundColor Red
    exit 1
}

# –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞
Write-Host "Doing something..." -ForegroundColor Yellow
# ...

Write-Host "‚úì Done" -ForegroundColor Green
exit 0
```

---

## üìñ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [DEPLOYMENT.md](../DEPLOYMENT.md) - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é
- [MAINTENANCE.md](../MAINTENANCE.md) - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—é
- [QUICK_START.md](../QUICK_START.md) - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

---

*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 2025-12-17*
