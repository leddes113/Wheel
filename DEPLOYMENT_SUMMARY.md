# –°–≤–æ–¥–∫–∞ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –∫ –¥–µ–ø–ª–æ—é

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –∫—Ä–∞—Ç–∫—É—é —Å–≤–æ–¥–∫—É –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π, —Å–¥–µ–ª–∞–Ω–Ω—ã—Ö –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∫ production deployment.

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### üê≥ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `Dockerfile` - multi-stage build –¥–ª—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –æ–±—Ä–∞–∑–∞
- `docker-compose.yml` - –ø—Ä–æ—Å—Ç–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —Å –æ–¥–Ω–∏–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º
- `docker-compose.prod.yml` - production –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å Nginx reverse proxy
- `.dockerignore` - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–±–æ—Ä–∫–∏ –æ–±—Ä–∞–∑–∞
- `docker-entrypoint.sh` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- Multi-stage build (deps ‚Üí builder ‚Üí runner)
- –ù–µ–ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (nextjs:nodejs)
- –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π health check
- Volumes –¥–ª—è –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö
- –†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤

### üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**–§–∞–π–ª—ã:**
- `next.config.ts` - –æ–±–Ω–æ–≤–ª—ë–Ω –¥–ª—è standalone output (Docker)
- `.env.production.example` - —à–∞–±–ª–æ–Ω production –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- `ecosystem.config.js` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è PM2 –¥–ª—è –¥–µ–ø–ª–æ—è –±–µ–∑ Docker
- `nginx/nginx.conf` - Nginx —Å rate limiting –∏ security headers

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –í–∫–ª—é—á–µ–Ω standalone —Ä–µ–∂–∏–º Next.js
- –û—Ç–∫–ª—é—á–µ–Ω–∞ —Ç–µ–ª–µ–º–µ—Ç—Ä–∏—è
- –£–¥–∞–ª—ë–Ω X-Powered-By header
- –í–∫–ª—é—á–µ–Ω–æ —Å–∂–∞—Ç–∏–µ

### üè• Health Check & –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

**–ù–æ–≤—ã–µ endpoints:**
- `/api/health` - health check endpoint —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤

**–°–∫—Ä–∏–ø—Ç—ã:**
- `scripts/healthcheck.sh` (Linux/Mac) - —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
- `scripts/healthcheck.ps1` (Windows) - —Ç–æ –∂–µ –¥–ª—è Windows

**–§—É–Ω–∫—Ü–∏–∏:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
- –í–æ–∑–≤—Ä–∞—Ç –º–µ—Ç—Ä–∏–∫ (uptime, version)
- Exit codes –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º

### üíæ –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

**–°–∫—Ä–∏–ø—Ç—ã:**
- `scripts/backup.sh` (Linux/Mac) - —Å–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –∫–æ–ø–∏–π
- `scripts/backup.ps1` (Windows) - —Ç–æ –∂–µ –¥–ª—è Windows
- `scripts/restore.sh` (Linux/Mac) - –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –±—ç–∫–∞–ø–∞
- `scripts/restore.ps1` (Windows) - —Ç–æ –∂–µ –¥–ª—è Windows

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –±—ç–∫–∞–ø–æ–≤ (retention policy)
- Safety backup –ø–µ—Ä–µ–¥ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ–º
- –°–∂–∞—Ç–∏–µ –¥–∞–Ω–Ω—ã—Ö (tar.gz / zip)
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—å—é

### üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–°–∫—Ä–∏–ø—Ç—ã:**
- `scripts/update-app.sh` (Linux/Mac) - –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å rollback
- `scripts/update-app.ps1` (Windows) - —Ç–æ –∂–µ –¥–ª—è Windows

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –±—ç–∫–∞–ø –¥–∞–Ω–Ω—ã—Ö
2. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏
3. –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –∏–∑ git
4. –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–∞
5. –ó–∞–ø—É—Å–∫ –∏ health check
6. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π rollback –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

### üõ†Ô∏è –£—Ç–∏–ª–∏—Ç—ã

**–°–∫—Ä–∏–ø—Ç—ã:**
- `scripts/init-data.js` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ
- `scripts/check-env.js` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º

**NPM scripts (package.json):**
```json
"prestart": "npm run init-data"     // –ê–≤—Ç–æ-–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
"prebuild": "npm run check-env"      // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ —Å–±–æ—Ä–∫–æ–π
"docker:build": "..."                // Docker –∫–æ–º–∞–Ω–¥—ã
"docker:up": "..."
"docker:down": "..."
"docker:logs": "..."
"docker:prod": "..."
"health": "..."                      // –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ health
```

### üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–ì–ª–∞–≤–Ω—ã–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞:**
- `DEPLOYMENT.md` - –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é (–≤—Å–µ —Å–ø–æ—Å–æ–±—ã)
- `QUICK_START.md` - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –¥–ª—è –Ω–µ—Ç–µ—Ä–ø–µ–ª–∏–≤—ã—Ö
- `PRODUCTION_CHECKLIST.md` - —á–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ!)
- `MAINTENANCE.md` - —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–º—É –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—é
- `DEPLOYMENT_SUMMARY.md` - —ç—Ç–æ—Ç —Ñ–∞–π–ª, –∫—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- `README.md` - –æ–±–Ω–æ–≤–ª—ë–Ω —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ø—Ä–æ–µ–∫—Ç–µ
- `CHANGELOG.md` - –∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
- `scripts/README.md` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Å–∫—Ä–∏–ø—Ç–∞–º
- `.github/PULL_REQUEST_TEMPLATE.md` - —à–∞–±–ª–æ–Ω PR

### üöÄ CI/CD

**GitHub Actions:**
- `.github/workflows/docker-build.yml` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–∞

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –°–±–æ—Ä–∫–∞ –Ω–∞ push –≤ main/develop
- –ü—É–±–ª–∏–∫–∞—Ü–∏—è –æ–±—Ä–∞–∑–æ–≤ –≤ GitHub Container Registry
- –¢–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ –≤–µ—Ä—Å–∏—è–º
- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ª–æ—ë–≤ –¥–ª—è –±—ã—Å—Ç—Ä–æ–π —Å–±–æ—Ä–∫–∏

### üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- Nginx rate limiting (10 req/s –¥–ª—è API, 30 req/s –æ–±—â–∏–π)
- Security headers (X-Frame-Options, X-Content-Type-Options, –∏ —Ç.–¥.)
- –ù–µ–ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ Docker
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º
- .env —Ñ–∞–π–ª—ã –≤ .gitignore
- HTTPS –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å (–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ nginx.conf)

### üìä –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ù–∞—Å—Ç—Ä–æ–µ–Ω–æ:**
- Docker logging —Å —Ä–æ—Ç–∞—Ü–∏–µ–π (max-size: 10m, max-file: 3)
- PM2 logging –≤ —Ñ–∞–π–ª—ã
- Nginx access –∏ error –ª–æ–≥–∏
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—ã–≤–æ–¥ –≤ —Å–∫—Ä–∏–ø—Ç–∞—Ö

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤

```
vibe-wheel/
‚îú‚îÄ‚îÄ Dockerfile                          # Docker –æ–±—Ä–∞–∑
‚îú‚îÄ‚îÄ .dockerignore                       # –ò—Å–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–∏ —Å–±–æ—Ä–∫–µ
‚îú‚îÄ‚îÄ docker-compose.yml                  # –ü—Ä–æ—Å—Ç–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
‚îú‚îÄ‚îÄ docker-compose.prod.yml             # Production —Å Nginx
‚îú‚îÄ‚îÄ docker-entrypoint.sh                # Entrypoint –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
‚îú‚îÄ‚îÄ ecosystem.config.js                 # PM2 –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ .env.production.example             # –®–∞–±–ª–æ–Ω production env
‚îÇ
‚îú‚îÄ‚îÄ app/api/health/route.ts            # Health check endpoint
‚îÇ
‚îú‚îÄ‚îÄ nginx/
‚îÇ   ‚îî‚îÄ‚îÄ nginx.conf                      # Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îú‚îÄ‚îÄ README.md                       # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Å–∫—Ä–∏–ø—Ç–∞–º
‚îÇ   ‚îú‚îÄ‚îÄ backup.sh                       # –ë—ç–∫–∞–ø (Linux/Mac)
‚îÇ   ‚îú‚îÄ‚îÄ backup.ps1                      # –ë—ç–∫–∞–ø (Windows)
‚îÇ   ‚îú‚îÄ‚îÄ restore.sh                      # –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ (Linux/Mac)
‚îÇ   ‚îú‚îÄ‚îÄ restore.ps1                     # –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ (Windows)
‚îÇ   ‚îú‚îÄ‚îÄ healthcheck.sh                  # Health check (Linux/Mac)
‚îÇ   ‚îú‚îÄ‚îÄ healthcheck.ps1                 # Health check (Windows)
‚îÇ   ‚îú‚îÄ‚îÄ update-app.sh                   # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ (Linux/Mac)
‚îÇ   ‚îú‚îÄ‚îÄ update-app.ps1                  # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ (Windows)
‚îÇ   ‚îú‚îÄ‚îÄ init-data.js                    # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ check-env.js                    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îÇ
‚îú‚îÄ‚îÄ .github/
‚îÇ   ‚îú‚îÄ‚îÄ workflows/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ docker-build.yml           # CI/CD –¥–ª—è Docker
‚îÇ   ‚îî‚îÄ‚îÄ PULL_REQUEST_TEMPLATE.md       # –®–∞–±–ª–æ–Ω PR
‚îÇ
‚îî‚îÄ‚îÄ docs/
    ‚îú‚îÄ‚îÄ DEPLOYMENT.md                   # –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
    ‚îú‚îÄ‚îÄ DEPLOYMENT_SUMMARY.md           # –≠—Ç–∞ —Å–≤–æ–¥–∫–∞
    ‚îú‚îÄ‚îÄ QUICK_START.md                  # –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
    ‚îú‚îÄ‚îÄ PRODUCTION_CHECKLIST.md         # –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º
    ‚îú‚îÄ‚îÄ MAINTENANCE.md                  # –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—é
    ‚îî‚îÄ‚îÄ CHANGELOG.md                    # –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
```

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π workflow —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

### –î–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö (—Å–∞–º–æ–µ –ø—Ä–æ—Å—Ç–æ–µ)

```bash
# 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone <repo>
cd vibe-wheel

# 2. –°–æ–∑–¥–∞–π—Ç–µ .env
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ ADMIN_ALLOWLIST

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ
docker-compose up -d

# 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ
curl http://localhost:3000/api/health
```

**–°–º:** [QUICK_START.md](QUICK_START.md)

### –î–ª—è production (—Å Nginx, SSL, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º)

1. **–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞:** –ü—Ä–æ–π–¥–∏—Ç–µ [PRODUCTION_CHECKLIST.md](PRODUCTION_CHECKLIST.md)
2. **–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ:** –°–ª–µ–¥—É–π—Ç–µ [DEPLOYMENT.md](DEPLOYMENT.md) —Ä–∞–∑–¥–µ–ª "Production —Å Nginx"
3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞:** SSL, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã
4. **–û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ:** –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –∑–∞–¥–∞—á–∏ –∏–∑ [MAINTENANCE.md](MAINTENANCE.md)

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å rollback
./scripts/update-app.sh

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é
git pull
docker-compose down
docker-compose build --no-cache
docker-compose up -d
```

---

## üîë –ö–ª—é—á–µ–≤—ã–µ endpoints

| Endpoint | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –î–æ—Å—Ç—É–ø |
|----------|-----------|--------|
| `/` | –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ | –ü—É–±–ª–∏—á–Ω—ã–π |
| `/api/login` | –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | –ü—É–±–ª–∏—á–Ω—ã–π |
| `/api/spin` | –°–ª—É—á–∞–π–Ω–∞—è —Ç–µ–º–∞ | –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π |
| `/api/idea` | –°–≤–æ—è –∏–¥–µ—è | –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π |
| `/api/me` | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ | –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π |
| `/api/health` | Health check | –ü—É–±–ª–∏—á–Ω—ã–π |
| `/admin` | –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å | –¢–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã |
| `/api/admin/*` | –ê–¥–º–∏–Ω API | –¢–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã |

---

## ‚öôÔ∏è –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ:**
```env
ADMIN_ALLOWLIST="–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤;–ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤"
```

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ:**
```env
NODE_ENV=production
PORT=3000
```

**–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ:**
```env
# –î–ª—è –≤–Ω–µ—à–Ω–∏—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π
NEXT_PUBLIC_APP_URL=https://vibe-wheel.company.com
```

---

## üö¶ –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
- CPU: 1 core
- RAM: 512 MB
- Disk: 1 GB
- Docker 20.x+ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ (–¥–ª—è production)
- CPU: 2+ cores
- RAM: 2 GB
- Disk: 5 GB (—Å —É—á–µ—Ç–æ–º –ª–æ–≥–æ–≤ –∏ –±—ç–∫–∞–ø–æ–≤)
- Docker 20.x+ –∏–ª–∏ Node.js 20.x+
- Nginx (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

---

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

**–ß—Ç–æ –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å:**
- Health check: `/api/health` –∫–∞–∂–¥—ã–µ 60 —Å–µ–∫—É–Ω–¥
- Response time: < 1s –¥–ª—è 95% –∑–∞–ø—Ä–æ—Å–æ–≤
- Memory usage: < 80% –æ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ–π
- Disk usage: < 80% –æ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ
- Error rate: < 1%

**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:**
- Uptime Robot (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π, –ø—Ä–æ—Å—Ç–æ–π)
- Grafana + Prometheus (–ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π)
- Netdata (—Å–∏—Å—Ç–µ–º–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏)
- –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã (healthcheck.sh)

---

## üí° –°–æ–≤–µ—Ç—ã –∏ best practices

### DO ‚úÖ

1. **–í—Å–µ–≥–¥–∞** —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –±—ç–∫–∞–ø –ø–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ** Docker –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏ –∏ –ø–µ—Ä–µ–Ω–æ—Å–∏–º–æ—Å—Ç–∏
3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã —á–µ—Ä–µ–∑ cron/Task Scheduler
4. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ** health check endpoint
5. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ** HTTPS –≤ production
6. **–†–æ—Ç–∏—Ä—É–π—Ç–µ** –ª–æ–≥–∏ —Ä–µ–≥—É–ª—è—Ä–Ω–æ
7. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ** –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–∞ staging –ø–µ—Ä–µ–¥ production
8. **–°–ª–µ–¥—É–π—Ç–µ** PRODUCTION_CHECKLIST.md –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º

### DON'T ‚ùå

1. **–ù–µ** –¥–µ–ø–ª–æ–π—Ç–µ –±–µ–∑ —Å–æ–∑–¥–∞–Ω–∏—è –±—ç–∫–∞–ø–∞
2. **–ù–µ** –∫–æ–º–º–∏—Ç—å—Ç–µ `.env` —Ñ–∞–π–ª—ã –≤ git
3. **–ù–µ** –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTP –≤ production (—Ç–æ–ª—å–∫–æ HTTPS)
4. **–ù–µ** –∏–≥–Ω–æ—Ä–∏—Ä—É–π—Ç–µ –æ—à–∏–±–∫–∏ –≤ –ª–æ–≥–∞—Ö
5. **–ù–µ** –∑–∞–ø—É—Å–∫–∞–π—Ç–µ –æ—Ç root –≤ production
6. **–ù–µ** –∑–∞–±—ã–≤–∞–π—Ç–µ –ø—Ä–æ rate limiting
7. **–ù–µ** –¥–∞–≤–∞–π—Ç–µ –≤—Å–µ–º –¥–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
8. **–ù–µ** –æ—Å—Ç–∞–≤–ª—è–π—Ç–µ –ø–æ—Ä—Ç—ã –æ—Ç–∫—Ä—ã—Ç—ã–º–∏ –±–µ–∑ firewall

---

## üÜò –ë—ã—Å—Ç—Ä–∞—è –ø–æ–º–æ—â—å

### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
```bash
docker-compose logs --tail=50
docker-compose restart
```

### –ù—É–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
```bash
./scripts/restore.sh ./backups/latest-backup.tar.gz
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å
```bash
./scripts/healthcheck.sh
# –∏–ª–∏
curl http://localhost:3000/api/health
```

### –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
```bash
./scripts/update-app.sh  # –° –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º rollback
```

### –°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø
```bash
./scripts/backup.sh
```

---

## üìû –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:

1. ‚úÖ –ü—Ä–æ–π–¥–∏—Ç–µ [PRODUCTION_CHECKLIST.md](PRODUCTION_CHECKLIST.md)
2. ‚úÖ –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã
3. ‚úÖ –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ health check
4. ‚úÖ –ù–∞—Å—Ç—Ä–æ–π—Ç–µ HTTPS
5. ‚úÖ –ù–∞—Å—Ç—Ä–æ–π—Ç–µ firewall
6. ‚úÖ –î–æ–±–∞–≤—å—Ç–µ —Ç–µ–º—ã –≤ `data/topics_*.json`
7. ‚úÖ –û–±—É—á–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É —Ä–∞–±–æ—Ç–µ —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º
8. ‚úÖ –ó–∞–ø–ª–∞–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ (—Å–º. [MAINTENANCE.md](MAINTENANCE.md))

---

## üìù –ó–∞–º–µ—Ç–∫–∏

- –í—Å–µ —Å–∫—Ä–∏–ø—Ç—ã –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ–∫—Ä—ã–≤–∞–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
- Health checks –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤—Å—Ç—Ä–æ–µ–Ω—ã
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å rollback –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è
- –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–æ

**–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ production deployment! üöÄ**

---

*–ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–æ: 2025-12-17*  
*–í–µ—Ä—Å–∏—è: 0.1.0*
